(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8d1a6ee"],{9491:function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return u}));var n=r("b775"),o=function(e){return Object(n["a"])({url:"/user/userList",params:e})},i=function(e){return Object(n["a"])({url:"/user/deleteUser",method:"post",data:e})},a=function(){return Object(n["a"])({url:"/user/allUserList"})},c=function(e){return Object(n["a"])({method:"post",url:"/user/getUserDetail",data:e})},u=function(){return Object(n["a"])({url:"/user/rolesList"})}},bdaa:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));var n=r("b775"),o=function(){return Object(n["a"])({url:"/getData/feature"})},i=function(){return Object(n["a"])({url:"/getData/chapter"})},a=function(){return Object(n["a"])({url:"/getData/allPermission"})}},d65e:function(e,t,r){"use strict";r.r(t);var n=r("1da1"),o=(r("96cf"),r("7a23")),i=r("9491"),a=r("bdaa");r("d3b7"),r("159b");function c(e){var t={menus:[{id:"1",permissionName:"员工管理",permissionMark:"userManage"},{id:"2",permissionName:"角色列表",permissionMark:"roleList"},{id:"3",permissionName:"权限列表",permissionMark:"permissionList"},{id:"4",permissionName:"文章排名",permissionMark:"articleRanking"},{id:"5",permissionName:"创建文章",permissionMark:"articleCreate"}],points:[{id:"1-1",permissionName:"分配角色",permissionMark:"distributeRole"},{id:"1-2",permissionName:"导入员工",permissionMark:"importUser"},{id:"1-3",permissionName:"删除员工",permissionMark:"removeUser"},{id:"2-1",permissionName:"分配权限",permissionMark:"distributePermission"}]},r=[];return e.menus.forEach((function(e){t.menus.forEach((function(t){e===t.permissionMark&&r.push(t.id)}))})),e.points.forEach((function(e){t.points.forEach((function(t){e===t.permissionMark&&r.push(t.id)}))})),console.log(r),r}var u={class:"dialog-footer"},s={props:{modelValue:{type:Boolean,required:!0},rolePermission:{type:Object,required:!0}},emits:["update:modelValue"],setup:function(e,t){var r=t.emit,i=e,s=Object(o["ref"])([]),l=Object(o["ref"])(null),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["c"])();case 2:t=e.sent,r=t.data,s.value=r;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m();var p=c(i.rolePermission);Object(o["nextTick"])((function(){l.value.setCheckedKeys(p)}));var b={children:"children",label:"permissionName"},f=function(){r("update:modelValue",!1)};return function(t,r){var n=Object(o["resolveComponent"])("el-tree"),i=Object(o["resolveComponent"])("el-button"),a=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(a,{title:t.$t("msg.excel.roleDialogTitle"),"model-value":e.modelValue,onClose:f},{footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",u,[Object(o["createVNode"])(i,{onClick:f},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$t("msg.universal.cancel")),1)]})),_:1}),Object(o["createVNode"])(i,{type:"primary",onClick:d},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$t("msg.universal.confirm")),1)]})),_:1})])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(n,{ref_key:"treeRef",ref:l,data:s.value,"show-checkbox":"","check-strictly":"","node-key":"id","default-expand-all":"",props:b},null,8,["data"])]})),_:1},8,["title","model-value"])}}};const l=s;var d=l,m={class:""},p={setup:function(e){var t=Object(o["ref"])([]),r=Object(o["ref"])(!1),a=Object(o["ref"])({}),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["c"])();case 2:r=e.sent,n=r.data,t.value=n.data;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(e){r.value=!0,a.value=e.permission,console.log(e.permission)};return c(),function(e,n){var i=Object(o["resolveComponent"])("el-table-column"),c=Object(o["resolveComponent"])("el-button"),s=Object(o["resolveComponent"])("el-table"),l=Object(o["resolveComponent"])("el-card"),p=Object(o["resolveDirective"])("permission");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",m,[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{data:t.value,border:"",style:{width:"100%"},"table-layout":"auto"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:e.$t("msg.role.index"),type:"index",width:"120"},null,8,["label"]),Object(o["createVNode"])(i,{label:e.$t("msg.role.name"),prop:"title"},null,8,["label"]),Object(o["createVNode"])(i,{label:e.$t("msg.role.desc"),prop:"des"},null,8,["label"]),Object(o["createVNode"])(i,{label:e.$t("msg.role.action"),prop:"action",width:"260"},{default:Object(o["withCtx"])((function(t){var r=t.row;return[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])(c,{type:"primary",size:"small",onClick:function(e){return u(r)}},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("msg.role.assignPermissions")),1)]})),_:2},1032,["onClick"])),[[p,["distributePermission"]]])]})),_:1},8,["label"])]})),_:1},8,["data"])]})),_:1}),r.value?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return r.value=e}),rolePermission:a.value},null,8,["modelValue","rolePermission"])):Object(o["createCommentVNode"])("",!0)])}}};const b=p;t["default"]=b}}]);
//# sourceMappingURL=chunk-f8d1a6ee.7ab62151.js.map